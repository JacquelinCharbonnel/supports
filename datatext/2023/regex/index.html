<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Expressions régulières :: Supports</title>
    <link rel="canonical" href="https://jacquelincharbonnel.github.io/supports/datatext/2023/regex/index.html">
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../../../_/css/site.css">
<!-- reference des feuilles de styles supplémentaires -->
<link rel="stylesheet" href="../../../_/css/layout.css">
<link rel="stylesheet" href="../../../_/css/content.css">

  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://jacquelincharbonnel.github.io/supports">Supports</a>
  <!-- suppression du burger du bandeau
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
-->      
    </div>
<!-- suppression des boutons du bandeau
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
      </div>
    </div>
-->
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="datatext" data-version="2023">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">DataText</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="index.html">Expressions Régulières</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="python.html">Regex en Python</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../Unix/index.html">Traitement sous Unix</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Unix/composition.html">Redirection et pipes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../Unix/commandes.html">Traitement de texte</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Unix/commandes/ed.html"><code>ed</code></a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Unix/commandes/vi.html"><code>vi</code></a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Unix/commandes/sed.html"><code>sed</code></a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="../Unix/commandes/awk.html"><code>awk</code></a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Unix/script.html">Script shell</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Unix/python.html">Filtre en Python</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="../Representation/index.html">Représentation</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Representation/numeration.html">Numération</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Representation/charset.html">Charset &amp; encoding</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Representation/unicode.html">Unicode (années 1990)</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Representation/environnement.html">Environnement de travail</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="../Representation/conclusion.html">Conclusion</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">DataText</span>
    <span class="version">2023</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../C/2023/index.html">C</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../C/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../concurrence/2024/index.html">Concurrence</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../concurrence/2024/index.html">2024</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">DataText</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../json/2023/index.html">JSON</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../json/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../linux_context/2025/index.html">Linux contexte</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../linux_context/2025/index.html">2025</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../python_objet/2024/index.html">Python objet</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../python_objet/2024/index.html">2024</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../supports/index.html">Supports</a></div>
    </li>
    <li class="component">
      <div class="title"><a href="../../../xml/2023/index.html">XML</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../xml/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../supports/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">DataText</a></li>
    <li><a href="index.html">Expressions Régulières</a></li>
  </ul>
</nav>
<!-- supression de "edit this page"
  <div class="edit-this-page"><a href="file:///home/jaclin/antora_components/datatext/./modules/regex/pages/index.adoc">Edit this Page</a></div>
-->
</div>
  <!-- ajout de la date de modification -->
     <div class="lastmodify"> dernière modification : 2023 </div>
  <!-- fin ajout -->
  <div class="content">
<aside class="toc sidebar" data-title="Plan" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Expressions régulières</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Une expression régulière (<em>regex</em>) est un motif (<em>pattern</em>) destiné à identifier des chaînes de caractères.
Donc, étant donné une regex, une chaine de caractères correspond (<em>match</em>) ou ne correspond pas à cette regex.</p>
</div>
<div class="paragraph">
<p>Concept issu de travaux théoriques en neuroscience (Stephen Kleen, 1956),
les regex sont implémentées informatiquement pour la première fois par Ken Thompson dans le premier éditeur de texte d&#8217;Unix (<code>ed</code>),
pour rechercher et substituer des portions de texte.
Depuis, elles sont devenues une abstraction à part entière,
apparessant un peu partout en informatique :
de nombreuses commandes en ligne les <em>comprennent</em>,
nombre de configurations logicielles les utilisent dans leur formulation,
et la plupart des langages de programmation permettent au développeur de les exploiter.</p>
</div>
<div class="paragraph">
<p>Le formalisme concis des regex, bien que concourant à leur réputation ésotérique,
offre des possibilités élégantes et puissantes de traitement de texte.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_aperçu"><a class="anchor" href="#_aperçu"></a>1. Aperçu</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Une regex permet d&#8217;identifier finement un ensemble de chaînes de caractères.
La regex est elle-même une chaîne de caractères.
Par exemple, la regex <code>defg</code> représente toute chaîne de caractères contenant la chaîne <code>"defg"</code>, comme par exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>abcdefg
defghi
abcdefghi
defg</pre>
</div>
</div>
<div class="paragraph">
<p>Par contre, les chaînes ci-dessous ne s&#8217;idenfient pas à la regex <code>defg</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>def          # ne contient pas g
efg          # ne contient pas d
ddeeffgg     # ne contient pas def
gfed         # ne contient pas de</pre>
</div>
</div>
<div class="sect2">
<h3 id="_la_commande_grep"><a class="anchor" href="#_la_commande_grep"></a>La commande <code>grep</code></h3>
<div class="paragraph">
<p>La commande Unix <code>grep</code> affiche les lignes d&#8217;un (ou plusieurs) fichier s&#8217;identifiant à la regex passée en argument.
Par exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ grep net /etc/protocols</code></pre>
</div>
</div>
<div class="paragraph">
<p>affiche toutes les lignes du fichier <code>/etc/protocols</code> s&#8217;identifiant à la regex <code>net</code>.</p>
</div>
<div class="paragraph">
<p>Des options peuvent modifier le comportement de <code>grep</code>.
Par exemple <code>-i</code> signifie de ne pas différencier les minuscules des majuscules :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ grep -i internet /etc/protocols</code></pre>
</div>
</div>
<div class="paragraph">
<p>De même, <code>-v</code> demande à <code>grep</code> d&#8217;afficher les lignes ne correspondant pas à la regex.</p>
</div>
</div>
<div class="sect2">
<h3 id="_jocker_quantificateur_délimiteur"><a class="anchor" href="#_jocker_quantificateur_délimiteur"></a>Jocker, quantificateur, délimiteur</h3>
<div class="paragraph">
<p>Quelques caractères jouent un rôle particulier, différent de leur propre représentation.
Par exemple <code>.</code> ne représente pas le caractère point.</p>
</div>
</div>
<div class="sect2">
<h3 id="_historique"><a class="anchor" href="#_historique"></a>Historique</h3>
<div class="paragraph">
<p>Il existe plusieurs types de regex (avec une compatibilité ascendante ) :
les regex de base, les regex étendues et les regex de Perl,
apparues dans cet ordre chronologique.</p>
</div>
<div class="paragraph">
<p>Les regex de base sont apparues à la naissance d&#8217;Unix.
C’est le standard historiquement supporté par UNIX et ses commandes depuis l’origine.</p>
</div>
<div class="paragraph">
<p>Les regex étendues complètent les regex de base,
en introduisant de nouveaux caractères spéciaux, pour plus de fonctionnalités.
Les regex étendues sont un sur-ensemble des regex de base.</p>
</div>
<div class="paragraph">
<p>Même chose avec les regex de Perl, qui complètent les regex étendues.
Perl est un langage de script créé spécialement pour traiter efficacement les chaînes de caractères,
et dont le champ d&#8217;action s&#8217;est élargi au fil du temps,
au point de devenir un langage généraliste (manipulant efficacement les regex).</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_regex_de_base"><a class="anchor" href="#_regex_de_base"></a>2. Regex de base</h2>
<div class="sectionbody">
<div class="paragraph">
<p>C&#8217;est le socle de base.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 1. Caractères spéciaux d&#8217;une regex de base</caption>
<colgroup>
<col style="width: 6.6666%;">
<col style="width: 26.6666%;">
<col style="width: 66.6668%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">car.</th>
<th class="tableblock halign-center valign-top">type</th>
<th class="tableblock halign-left valign-top">desc.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>.</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">jocker</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 caractère quelconque</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>^</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">délimiteur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">début de ligne</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>$</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">délimiteur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">fin de ligne</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>*</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">quantificateur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">caractère précédent répété 0 ou plusieurs fois</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>\</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">modificateur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">litéralise le caractère suivant</p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="_le_joker"><a class="anchor" href="#_le_joker"></a>Le joker <code>.</code></h3>
<div class="paragraph">
<p>Le caractère <code>"."</code> est un jocker  : il représente un caractère quelconque.
Les chaînes suivantes :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>defg
dafg
dbfg
dcfg
ddfg
d.fg
abcd fghi</pre>
</div>
</div>
<div class="paragraph">
<p>s&#8217;identifient à la regex <code>d.fg</code>,
au contraire des chaînes ci-dessous :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>dfg             # pas de caractère entre d et f
dxyfg           # trop de caractères en d et f
abcd  fghi      # trop de caractères en d et f</pre>
</div>
</div>
<div class="paragraph">
<p>qui ne s&#8217;y identifient pas.</p>
</div>
</div>
<div class="sect2">
<h3 id="_le_modificateur"><a class="anchor" href="#_le_modificateur"></a>Le modificateur <code>\</code></h3>
<div class="paragraph">
<p>Le caractère <code>"\"</code> agit sur le caractère qui le suit dans la regex :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>si ce caractère est particulier, alors il perd son super-pouvoir,
et devient un caractère ordinaire,</p>
</li>
<li>
<p>si ce caractère est ordinaire, alors il le reste (le modificateur n&#8217;a donc pas d&#8217;effet dans ce cas).</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_les_délimiteurs_et"><a class="anchor" href="#_les_délimiteurs_et"></a>Les délimiteurs <code>^</code> et <code>$</code></h3>
<div class="paragraph">
<p>Le caractère <code>^</code> en début de regex matérialise le début de la chaîne.
Symétriquement, le caractère <code>$</code> en fin de regex matérialise la fin de la chaîne.
Ainsi :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>^a</code> identifie toute chaîne commençant par <code>"a"</code>,</p>
</li>
<li>
<p><code>b$</code> identifie toute chaîne finissant par <code>"b"</code>.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="_le_quantificateur"><a class="anchor" href="#_le_quantificateur"></a>Le quantificateur <code>*</code></h3>
<div class="paragraph">
<p>Le caractère <code>"*"</code> dans une regex signifie que le caractère qui le précède dans la regex est répété 0, 1 ou plusieurs fois.
Ainsi :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>a*</code> signifie : 0, 1 ou plusieurs <code>"a"</code>.</p>
</li>
<li>
<p><code>ab*c</code> signifie : <code>"a"</code> suivi de 0, 1 ou plusieurs <code>"b"</code>, suivi de <code>"c"</code>.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">regex vs glob</div>
<div class="paragraph">
<p>Les shells Unix utilisent des patterns (appelé <em>glob</em>) pour identifier des ensembles de noms de fichiers.
glob et regex ont le même objectif, mais sont différents et incompatibles.</p>
</div>
<div class="paragraph">
<p>Les globs admettent seulement 2 jokers : <code>"?"</code> et <code>"*"</code>.
<code>"?"</code> représente un unique caractère quelconque et <code>"*"</code> représente une suite de caractères quelconques (éventuellement vide).</p>
</div>
<div class="paragraph">
<p>Ainsi :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>le glob <code>a??b</code> est équivalent à la regex <code>^a..b$</code></p>
</li>
<li>
<p>le glob <code>a*b</code> est équivalent à la regex <code>^a.*b$</code></p>
</li>
<li>
<p>le glob <code>*conf*</code> est équivalent à la regex <code>conf</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_regex_étendues"><a class="anchor" href="#_regex_étendues"></a>3. Regex étendues</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Elles introduisent de nouveaux caractères spéciaux pour plus de fonctionnalités.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">Table 2. Elément d&#8217;une regex étendue</caption>
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 27.2727%;">
<col style="width: 54.5455%;">
</colgroup>
<thead>
<tr>
<th class="tableblock halign-center valign-top">car.</th>
<th class="tableblock halign-center valign-top">type</th>
<th class="tableblock halign-left valign-top">desc.</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>|</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">alternative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">soit le caractère précédent, soit le caractère suivant</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>( )</code></p></td>
<td class="tableblock halign-center valign-top"></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">regroupement de caractères</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>+</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">quantificateur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">caractère précédent répété au moins une fois</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>?</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">quantificateur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">caractère précédent répété au plus une fois</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>{n}</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">quantificateur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">caractère précédent répété n fois</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>{n,m}</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">quantificateur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">caractère précédent répété entre n et m fois</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>{,n}</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">quantificateur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">caractère précédent répété au plus n fois</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>{n,}</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">quantificateur</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">caractère précédent répété au moins n fois</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[abcde]</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">alternative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 caractère parmi ceux énumérés</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[a-e]</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">alternative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 caractère dans l&#8217;intervalle</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[a-z0-9]</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">alternative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 caractère dans les intervalles</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>[^a-z0-9]</code></p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">alternative</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 caractère en dehors des intervalles</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Pour utiliser les regex étendues avec <code>grep</code>, il faut spécifier l&#8217;option <code>-E</code>.
Ou bien utiliser la commande <code>egrep</code>.
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_lalternative"><a class="anchor" href="#_lalternative"></a>L&#8217;alternative <code>|</code></h3>
<div class="ulist">
<ul>
<li>
<p><code>a|b</code> signifie : <code>a</code> ou <code>b</code>.</p>
</li>
<li>
<p><code>ab|cde</code> signifie : <code>ab</code> ou <code>cde</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ainsi,  les chaînes <code>"vi<strong>abil</strong>ity"</code>, <code>"un<strong>dea</strong>vour"</code>, <code>"st<strong>abil</strong>ate"</code> et <code>"ca<strong>dea</strong>u"</code>
s&#8217;identifient à la regex <code>abil|dea</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_le_groupement"><a class="anchor" href="#_le_groupement"></a>Le groupement <code>( )</code></h3>
<div class="paragraph">
<p>Les parenthèses regroupent plusieurs caractères.
Ainsi :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>(ab)*</code> signifie : 0 ou plusieurs occurrences de <code>ab</code></p>
</li>
<li>
<p><code>a(b|cd)e</code> signifie : <code>a</code>, suivi de <code>b</code> ou <code>cd</code>, suivi de <code>e</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Ainsi,  les chaînes <code>"st<strong>abila</strong>te"</code> et <code>"c<strong>adea</strong>u"</code>
s&#8217;identifient à la regex <code>a(bil|de)a</code>, mais pas <code>"viability"</code> ni <code>"undeavour"</code>.</p>
</div>
</div>
<div class="sect2">
<h3 id="_les_quantificateurs_et"><a class="anchor" href="#_les_quantificateurs_et"></a>Les quantificateurs <code>+</code>, <code>?</code> et <code>{ }</code></h3>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a+</code> signifie : 1 ou plusieurs <code>"a"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ab+c</code> signifie donc : <code>"a"</code>, suivi de 1 ou plusieurs <code>"b"</code>, suivi de <code>"c"</code></p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<code>a+</code> est donc un raccourci pour <code>aa*</code>.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a?</code> signifie : 0 ou 1 <code>"a"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>ab?c</code> signifie donc : <code>"a"</code> suivi de 0 ou 1 <code>"b"</code>, suivi de <code>""</code></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a{n}</code> signifie <code>"a"</code> répété <em>n</em> fois</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a{n,m}</code> signifie <code>"a"</code> répété entre <em>n</em> et <em>m</em> fois</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a{,n}</code> signifie <code>"a"</code> répété au plus <em>n</em> fois</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>a{n,}</code> signifie <code>"a"</code> répété au moins <em>n</em> fois</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Sont donc équivalents :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>a{0,}</code> et <code>a*</code></p>
</li>
<li>
<p><code>a{1,}</code> et <code>a+</code></p>
</li>
<li>
<p><code>a{,1}</code> et <code>a?</code></p>
</li>
</ul>
</div>
</td>
</tr>
</table>
</div>
</div>
<div class="sect2">
<h3 id="_lalternative_2"><a class="anchor" href="#_lalternative_2"></a>L&#8217;alternative <code>[ ]</code></h3>
<div class="paragraph">
<p>Elle permet de définir 1 caractère unique pris dans un ensemble donné.</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[abcd]</code> signifie : 1 caractère parmi <code>"a"</code>, <code>"b"</code>, <code>"c"</code> et <code>"d"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[a-d]</code> signifie : 1 caractère parmi <code>"a"</code>, <code>"b"</code>, <code>"c"</code> et <code>"d"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[a-dkx-z]</code> signifie : 1 caractère parmi <code>"a"</code>, <code>"b"</code>, <code>"c"</code>, <code>"d"</code>, <code>"k"</code>, <code>"x"</code>, <code>"y"</code> et <code>"z"</code></p></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[^abcd]</code> signifie : 1 caractère différent de <code>"a"</code>, <code>"b"</code>, <code>"c"</code> et <code>"d"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[^a-d]</code> signifie : 1 caractère différent de <code>"a"</code>, <code>"b"</code>, <code>"c"</code> et <code>"d"</code></p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><code>[^a-dx-z]</code> signifie : 1 caractère différent de  <code>"a"</code>, <code>"b"</code>, <code>"c"</code>, <code>"d"</code>, <code>"x"</code>, <code>"y"</code> et <code>"z"</code></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect2">
<h3 id="_captures"><a class="anchor" href="#_captures"></a>Captures</h3>
<div class="paragraph">
<p>En réalité, les parenthèses groupent, mais aussi capturent la portion qu&#8217;elles délimitent.
La capture est mémorisée, dans le but d&#8217;être utilisée plus tard.
On récupère la capture via <code>\1</code>.
Exemple :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p><code>a|b</code> identifie le caractère <code>"a"</code> ou le caractère <code>"b"</code></p>
</li>
<li>
<p><code>(a|b)</code> capture le caractère qui s&#8217;est identifié (donc soit <code>"a"</code>, soit <code>"b"</code>)</p>
</li>
<li>
<p><code>\1</code> sera donc soit <code>"a"</code>, soit <code>"b"</code></p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Exemple complet :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>^(a|b)\1$</code>  signifie donc soit <code>"aa"</code>, soit <code>"bb"</code>, mais pas <code>"ab"</code> ni <code>"ba"</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Plusieurs captures sont possibles, et dans ce cas, on les récupère séquentiellement via <code>\1</code>, <code>\2</code>, <code>\3</code>, etc.
Exemple :</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>(a|i)\1(r|s)\2</code> identifie toutes les chaines contenant l&#8217;un des motifs suivant :</p>
</li>
</ul>
</div>
<div class="listingblock">
<div class="content">
<pre>aarr
aass
iirr
iiss</pre>
</div>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
<div class="paragraph">
<p>Par défaut, les quantificateurs sont <em>gourmands</em>,
c&#8217;est-à-dire qu&#8217;ils identifient à la chaîne la plus longue possible.
Par exemple, dans la chaine <code>"abccccde"</code>, la portion capturée par la regex <code>(c*)</code> pourrait être :</p>
</div>
<div class="listingblock">
<div class="content">
<pre>** rien **
c
cc
ccc
cccc</pre>
</div>
</div>
<div class="paragraph">
<p>mais les quantificateurs étant gourmands, la portion capturée est finalement <code>"cccc"</code>.</p>
</div>
</td>
</tr>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_perl_regex"><a class="anchor" href="#_perl_regex"></a>4. Perl regex</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Le langage Perl ajoute de nouvelles fonctionnalités aux regex étendues,
dont quelques unes des plus simples sont listées ci-dessous.</p>
</div>
<div class="admonitionblock important">
<table>
<tr>
<td class="icon">
<i class="fa icon-important" title="Important"></i>
</td>
<td class="content">
Pour utiliser les regex de Perl avec <code>grep</code>, il faut spécifier l&#8217;option <code>-P</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Les regex Perl offrent des délimiteurs supplémentaires  :</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>\b</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">une fontière de mot</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>\B</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">une non-fontière de mot</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Elles amènent aussi quelques alternatives :</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 20%;">
<col style="width: 80%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>\d</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">un chiffre (<code>[0-9]</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>\D</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">un non-chiffre (<code>[^0-9]</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>\s</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">un séparateur blanc (<code>[ \t\n</code>])</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>\S</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">un non-séparateur blanc (<code>[^ \t\n</code>])</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>\w</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">un caractère alphanumérique (<code>[a-zA-Z0-9_]</code>)</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>\W</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">un caractère non alphanumérique (<code>[^a-zA-Z0-9_]</code>)</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Elles offrent également des quantificateurs non gourmands :</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 9.0909%;">
<col style="width: 90.9091%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>*?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">0 ou plusieurs occurrences, la plus courte possible</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock"><code>+?</code></p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">1 ou plusieurs occurrences, la plus courte possible</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Par exemple, étant donnée la chaine
<code>"abcabc"</code>,
alors la regex <code>(a.*c)</code> capture
<code>"abcabc"</code>
alors que la regex <code>(a.*?c)</code> capture
<code>"abc"</code>.</p>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p class="center">
  <span style="font-size: 0.9em;">
    <a href="https://jacquelincharbonnel.github.io/">Jacquelin Charbonnel</a>
    <!-- &nbsp; &mdash; &nbsp; -->
    &nbsp;
    &copy;Creative Commons BY-NC-SA 4.0
  </span>
  </p>
</footer>

<script>
var myDate = new Date(document.lastModified);
myNewDate = new Intl.DateTimeFormat(
            undefined,
            {year: "numeric", month: "long", day: "numeric", hour: "2-digit", minute: "2-digit"}
        )
        .format(myDate).replace(/\./g, '-');
document.getElementById("lastmodify").innerHTML = myNewDate ;
</script>

<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
