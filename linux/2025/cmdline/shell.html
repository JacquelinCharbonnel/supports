<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Le shell :: Supports</title>
    <link rel="canonical" href="https://jacquelincharbonnel.github.io/supports/linux/2025/cmdline/shell.html">
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../../../_/css/site.css">
<!-- reference des feuilles de styles supplémentaires -->
<link rel="stylesheet" href="../../../_/css/layout.css">
<link rel="stylesheet" href="../../../_/css/content.css">

  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://jacquelincharbonnel.github.io/supports">Supports</a>
  <!-- suppression du burger du bandeau
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
-->      
    </div>
<!-- suppression des boutons du bandeau
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
      </div>
    </div>
-->
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="linux" data-version="2025">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Linux</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../context/overview.html">Le contexte</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../context/news.html">L&#8217;actualité</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="priseenmain.html">Utiliser le système</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fs.html">Système de fichiers</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="shell.html">Le shell</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="proc.html">Processus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="redirect.html">Redirection et pipes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="remote.html">Connexions distantes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="script.html">Script shell</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cron.html">Planifier les tâches</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="admin.html">Gérer le système</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="su.html">Privilèges</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="appli.html">Les applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="admfs.html">L&#8217;espace de stockage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="user.html">Les comptes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="services.html">Les services</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="nfs.html">NFS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sshd.html">sshd</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Linux</span>
    <span class="version">2025</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../C/2023/index.html">C</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../C/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../concurrence/2024/index.html">Concurrence</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../concurrence/2024/index.html">2024</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../datatext/2023/index.html">DataText</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../datatext/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../json/2023/index.html">JSON</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../json/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Linux</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">2025</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../python_objet/2024/index.html">Python objet</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../python_objet/2024/index.html">2024</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../reseau_baba/2025/index.html">Réseau</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../reseau_baba/2025/index.html">2025</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../supports/index.html">Supports</a></div>
    </li>
    <li class="component">
      <div class="title"><a href="../../../xml/2023/index.html">XML</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../xml/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../supports/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Linux</a></li>
    <li><a href="priseenmain.html">Utiliser le système</a></li>
    <li><a href="shell.html">Le shell</a></li>
  </ul>
</nav>
<!-- supression de "edit this page"
  <div class="edit-this-page"><a href="file:///home/jaclin/antora_components/linux/./modules/cmdline/pages/shell.adoc">Edit this Page</a></div>
-->
</div>
  <!-- ajout de la date de modification -->
     <div class="lastmodify"> dernière modification : 2025 </div>
  <!-- fin ajout -->
  <div class="content">
<aside class="toc sidebar" data-title="Plan" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Le shell</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Le shell est le programme qui gère la ligne de commande.
C&#8217;est l&#8217;interface (en mode texte) entre l&#8217;utilisateur et le système.
Le shell attend indéfiniment que l&#8217;utilisateur entre des commandes, et pour chacune d&#8217;elles, il tente de l&#8217;exécuter.
Il est programmable, et gère des variables, fonctions, alias.</p>
</div>
<div class="paragraph">
<p>Il existe des dizaines de shells, qui ont tous, chacun à leur manière, perfectionné le shell d&#8217;origine, le <em>Bourne shell</em> <code>sh</code>.
Les plus connus sont :</p>
</div>
<div class="ulist">
<ul>
<li>
<p>ceux issus de Berkeley : le <em>C-shell</em> <code>csh</code>, amélioré par la suite en <code>tcsh</code></p>
</li>
<li>
<p>ceux issus de System V : le <em>Korn shell</em> <code>ksh</code> et le <em>Bourne Again Shell</em> <code>bash</code>.</p>
</li>
</ul>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/shell/shells.webp" alt="shells">
</div>
</div>
<div class="paragraph">
<p>Tous ces shells se ressemblent, mais ne sont pas 100% compatibles entre eux.
Ils ont tous amélioré à leur façon <code>sh</code>.
Tout ce qui fonctionne sur <code>sh</code> fonctionne sur les autres shells.</p>
</div>
<div class="paragraph">
<p><code>bash</code> est le shell par défaut de Linux.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_variables"><a class="anchor" href="#_variables"></a>1. Variables</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Une variable possède un nom et une valeur pouvant varier au cours du temps
(d&#8217;où son nom de <em>variable</em>).
Une variable s&#8217;initialise par :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ x=valeur1
$ y=valeur2</code></pre>
</div>
</div>
<div class="paragraph">
<p>La valeur d&#8217;une variable <code>v</code> est <code>$v</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ echo $x
valeur1

$ echo $y
valeur2</code></pre>
</div>
</div>
<div class="paragraph">
<p><code>echo</code> est une commande qui écrit simplement ses arguments :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ echo "la valeur de la variable x est $x"
la valeur de la variable x est valeur1</code></pre>
</div>
</div>
<div class="paragraph">
<p>Autre exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ w=World
$ h=Hello
$ z="$h $w !"
$ echo $z
Hello World !</code></pre>
</div>
</div>
<div class="paragraph">
<p>Les variables sont locales au shell dans lequel elles sont créées :
à un instant t, une variable <code>x</code> peut valoir 1 dans un shell,
2 dans un autre,
et ne pas exister dans un autre.
Une variable disparait à la fin de la session dans laquelle elle a été créée.
Pour la rendre persistante, il est nécessaire de la recréer à chaque session (par exemple dans le profil de l&#8217;utilisateur).</p>
</div>
<div class="paragraph">
<p>En bash, la commande <code>env</code> liste toutes les variables définies.</p>
</div>
<div class="paragraph">
<p>Les variables avec un nom en majuscule sont, par convention, des variables prédéfinies par le système.</p>
</div>
<h3 id="_la_variable_path" class="discrete">La variable <code>PATH</code></h3>
<div class="paragraph">
<p>Sa valeur est une liste de chemins séparés par le caractère <code>:</code> :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ echo $PATH
/home/jaclin/bin:/usr/bin:/bin</code></pre>
</div>
</div>
<div class="paragraph">
<p>La valeur renvoyée ci-dessus correspond donc aux 3 chemins <code>/home/jaclin/bin</code>, <code>/usr/bin</code> et <code>/bin</code>.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Role de la variable <code>PATH</code></dt>
<dd>
<p>Lorsqu&#8217;une commande est invoquée, le shell recherche l&#8217;exécutable correspondant en explorant séquentiellement cette liste de chemins.
Par exemple, si l&#8217;on envoie la commande <code>ls</code>,</p>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>alors un exécutable <code>/home/jaclin/bin/ls</code> est recherché ;
s&#8217;il existe, alors il est exécuté, et le processus s&#8217;arrête là</p>
</li>
<li>
<p>sinon, si un exécutable <code>/usr/bin/ls</code> existe, alors il est exécuté, et le processus s&#8217;arrête là</p>
</li>
<li>
<p>sinon, si un exécutable <code>/bin/ls</code> existe, il est exécuté</p>
</li>
<li>
<p>sinon, le message <em>commande inconnue</em> est renvoyé.</p>
</li>
</ol>
</div>
</dd>
</dl>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_contrôler_linterprétation"><a class="anchor" href="#_contrôler_linterprétation"></a>2. Contrôler l&#8217;interprétation</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Certaines expressions sont interprétées par le shell :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ echo ~
/home/jaclin

$ echo $OSTYPE
linux-gnu

$ echo *
Bureau Documents Images Musique Vidéos</code></pre>
</div>
</div>
<div class="paragraph">
<p>mais on peut jouer sur ces interprétations avec les caractères <code>\</code> (<em>backslash</em>), <code>"</code> (<em>guillemet</em>) et <code>'</code> (<em>quote</em>).
Exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ echo \~ vaut ~
~ vaut /home/jaclin

$ echo \$OSTYPE vaut $OSTYPE
$OSTYPE vaut linux-gnu

$ echo \* vaut *
* vaut Bureau Documents Images Musique Vidéos</code></pre>
</div>
</div>
<div class="paragraph">
<p>Explication : le caractère <code>\</code> supprime le rôle particulier du caractère qui le suit.</p>
</div>
<div class="paragraph">
<p>De même, l&#8217;interprétation d&#8217;une chaîne de caractères varie
suivant quelle est non délimitée, délimitée avec des guillemets, ou délimitées avec des quotes.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_alias"><a class="anchor" href="#_alias"></a>3. Alias</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Un alias est un synonyme d&#8217;une autre commande.
Son but est de faciliter la frapppe fréquente de commandes longues.</p>
</div>
<div class="paragraph">
<p>Un exemple classique est la commande <code>ll</code> qui n&#8217;est rien d&#8217;autre qu&#8217;un alias de <code>ls -l</code>.</p>
</div>
<div class="paragraph">
<p>La commande <code>alias</code> liste tous les alias définis.
Elle permet aussi de les créer.
Par exemple, l&#8217;alias <code>ll</code> se définit par :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-none hljs">alias ll="ls -l"</code></pre>
</div>
</div>
<div class="paragraph">
<p>Comme les variables, les alias existent durant la session courante seulement.
Pour les rendre persistants, il faut les recréer à chaque session (par exemple dans le profil de l’utilisateur).</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_substitution_de_commande"><a class="anchor" href="#_substitution_de_commande"></a>4. Substitution de commande</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Il s&#8217;agit de récupérer le résultat d&#8217;une commande,
par exemple, obtenir la date courante pour la mémoriser dans une variable.
Par exemple :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ now=`date`

$ echo $now
jeu. 20 févr. 2025 19:06:30 CET</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_profil_utilisateur"><a class="anchor" href="#_profil_utilisateur"></a>5. Profil utilisateur</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Les lignes du fichier <code>~/.bashrc</code> sont exécutées au démarrage du shell,
comme si elles avaient été frappées au clavier.
C&#8217;est donc dans ce fichier que l&#8217;on peut définir variables et alias,
pour les rendre persistants.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Résumé</dt>
<dd>
<div class="ulist">
<ul>
<li>
<p>à retenir : la commande <code>echo</code></p>
</li>
<li>
<p>à comprendre : la variable <code>PATH</code></p>
</li>
<li>
<p>à connaitre : le fichier <code>~/.bashrc</code></p>
</li>
</ul>
</div>
</dd>
</dl>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p class="center">
  <span style="font-size: 0.9em;">
    <a href="https://jacquelincharbonnel.github.io/">Jacquelin Charbonnel</a>
    <!-- &nbsp; &mdash; &nbsp; -->
    &nbsp;
    &copy;Creative Commons BY-NC-SA 4.0
  </span>
  </p>
</footer>

<script>
var myDate = new Date(document.lastModified);
myNewDate = new Intl.DateTimeFormat(
            undefined,
            {year: "numeric", month: "long", day: "numeric", hour: "2-digit", minute: "2-digit"}
        )
        .format(myDate).replace(/\./g, '-');
document.getElementById("lastmodify").innerHTML = myNewDate ;
</script>

<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
