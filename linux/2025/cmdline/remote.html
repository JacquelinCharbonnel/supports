<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Connexions distantes :: Supports</title>
    <link rel="canonical" href="https://jacquelincharbonnel.github.io/supports/linux/2025/cmdline/remote.html">
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../../../_/css/site.css">
<!-- reference des feuilles de styles supplémentaires -->
<link rel="stylesheet" href="../../../_/css/layout.css">
<link rel="stylesheet" href="../../../_/css/content.css">

  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://jacquelincharbonnel.github.io/supports">Supports</a>
  <!-- suppression du burger du bandeau
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
-->      
    </div>
<!-- suppression des boutons du bandeau
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
      </div>
    </div>
-->
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="linux" data-version="2025">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="../index.html">Linux</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../context/overview.html">Le contexte</a>
  </li>
  <li class="nav-item" data-depth="1">
    <a class="nav-link" href="../context/news.html">L&#8217;actualité</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="priseenmain.html">Utiliser le système</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="fs.html">Système de fichiers</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="shell.html">Le shell</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="proc.html">Processus</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="redirect.html">Redirection et pipes</a>
  </li>
  <li class="nav-item is-current-page" data-depth="2">
    <a class="nav-link" href="remote.html">Connexions distantes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="script.html">Script shell</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="cron.html">Planifier les tâches</a>
  </li>
</ul>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="admin.html">Gérer le système</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="su.html">Privilèges</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="appli.html">Les applications</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="admfs.html">L&#8217;espace de stockage</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="user.html">Les comptes</a>
  </li>
  <li class="nav-item" data-depth="2">
    <button class="nav-item-toggle"></button>
    <a class="nav-link" href="services.html">Les services</a>
<ul class="nav-list">
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="nfs.html">NFS</a>
  </li>
  <li class="nav-item" data-depth="3">
    <a class="nav-link" href="sshd.html">sshd</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">Linux</span>
    <span class="version">2025</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../../C/2023/index.html">C</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../C/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../concurrence/2024/index.html">Concurrence</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../concurrence/2024/index.html">2024</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../datatext/2023/index.html">DataText</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../datatext/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../json/2023/index.html">JSON</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../json/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="../index.html">Linux</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="../index.html">2025</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../python_objet/2024/index.html">Python objet</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../python_objet/2024/index.html">2024</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../reseau_baba/2025/index.html">Réseau</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../reseau_baba/2025/index.html">2025</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../../supports/index.html">Supports</a></div>
    </li>
    <li class="component">
      <div class="title"><a href="../../../xml/2023/index.html">XML</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../../xml/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../../supports/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="../index.html">Linux</a></li>
    <li><a href="priseenmain.html">Utiliser le système</a></li>
    <li><a href="remote.html">Connexions distantes</a></li>
  </ul>
</nav>
<!-- supression de "edit this page"
  <div class="edit-this-page"><a href="file:///home/jaclin/antora_components/linux/./modules/cmdline/pages/remote.adoc">Edit this Page</a></div>
-->
</div>
  <!-- ajout de la date de modification -->
     <div class="lastmodify"> dernière modification : 2025 </div>
  <!-- fin ajout -->
  <div class="content">
<aside class="toc sidebar" data-title="Plan" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Connexions distantes</h1>
<div class="sect1">
<h2 id="_ssh"><a class="anchor" href="#_ssh"></a>1. <code>ssh</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p>La commande <code>ssh</code> permet d&#8217;accéder à un shell sur une machine distante.</p>
</div>
<div class="listingblock">
<div class="title">nom de l&#8217;équipement local et nom de l&#8217;utilisateur sur cet équipement</div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-none hljs">$ hostname
ordi1
$ whoami
jaclin</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">connexion à l&#8217;équipement distant</div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-none hljs">$ ssh jc@ordi2
jc@ordi2's password:
Last login: Sat Mar 22 11:01:06 2025 from 192.168.50.80</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">nom de l&#8217;équipement distant et nom de l&#8217;utilisateur sur cet équipement</div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-none hljs">$ hostname
ordi2
$ whoami
jc</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">fermeture de la session distante</div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-none hljs">$ ^D

$ hostname
ordi1
$ whoami
jaclin</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_rsync"><a class="anchor" href="#_rsync"></a>2. <code>rsync</code></h2>
<div class="sectionbody">
<div class="paragraph">
<p><code>rsync</code> est une commande sophistiquée (grace à ses nombreuses options) de copie de fichiers entre 2 équipements.
Elle utilise le protocole <code>ssh</code>.
Exemples :</p>
</div>
<div class="listingblock">
<div class="title">copie d&#8217;un fichier sur l&#8217;équipement distant</div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ rsync ~/.bashrc jc@ordi2:/tmp</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">copie d&#8217;une arborescence sur l&#8217;équipement distant</div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ rsync -r ~/Documents jc@ordi2:documents_originaux/</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">rapatriement d&#8217;un fichier sur l&#8217;équipement local</div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ rsync jc@ordi2:Documents/mon_fichier.txt .</code></pre>
</div>
</div>
<div class="listingblock">
<div class="title">rapatriement d&#8217;une arborescence sur l&#8217;équipement local en conservant les attributs (dates, propriétaire, droits, etc.)</div>
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">$ rsync -a jc@ordi2:documents_originaux .</code></pre>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_authentification_par_clés"><a class="anchor" href="#_authentification_par_clés"></a>3. Authentification par clés</h2>
<div class="sectionbody">
<div class="paragraph">
<p>L&#8217;authentification par clés peut se subsister à l&#8217;authentification par login/mot de passe d&#8217;une connexion ssh.
Cela évite donc d&#8217;avoir à entrer un mot de passe à la connexion.</p>
</div>
<div class="sect2">
<h3 id="_principe_théorique"><a class="anchor" href="#_principe_théorique"></a>3.1. Principe théorique</h3>
<div class="paragraph">
<p>Tout repose sur un jeu de 2 clés dépendantes l&#8217;une de l&#8217;autre
(une clé est simplement un grand entier)
dont les propriétés sont telles que :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>tout ce qui est chiffré avec l&#8217;une des 2 clés est déchiffrable avec l&#8217;autre (et seulement avec elle),</p>
</li>
<li>
<p>il est impossible de retrouver l&#8217;une des 2 clés à partir de l&#8217;autre.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Le possesseur des 2 clés choisit l&#8217;une d&#8217;elle comme étant <em>publique</em> (donc diffusable à tout le monde),
et l&#8217;autre comme <em>privée</em>
(qui doit rester secrète, seul son propriétaire doit la connaitre).</p>
</div>
<div class="paragraph">
<p>Avec cela :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>quiconque réussissant à déchiffrer un message chiffré avec une clé publique est sûr que c&#8217;est le propriétaire de cette clé publique qui en est l&#8217;auteur
(puisque lui seul a pu le chiffrer avec sa clé privée),</p>
</li>
<li>
<p>et inversement, quiconque voulant rédiger un message confidentiel à destination d&#8217;un correspondant chiffre le message avec la clé publique du correspondant
(car seul le correspondant pourra le déchiffrer avec sa clé privée).</p>
</li>
</ol>
</div>
</div>
<div class="sect2">
<h3 id="_en_pratique"><a class="anchor" href="#_en_pratique"></a>3.2. En pratique</h3>
<div class="paragraph">
<p>Pour pouvoir s&#8217;authentifier par clés, il faut :</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>générer le bi-cle sur le poste de travail,</p>
</li>
<li>
<p>conserver la clé privée localement, bien protégée de la lecture (et de l&#8217;écriture),</p>
</li>
<li>
<p>déposer la clé publique sur chaque équipement sur lequel on veut pouvoir se connecter sans mot de passe.</p>
</li>
</ol>
</div>
<div class="sect3">
<h4 id="_générer_le_bi_clé_sur_le_poste_de_travail"><a class="anchor" href="#_générer_le_bi_clé_sur_le_poste_de_travail"></a>3.2.1. Générer le bi-clé sur le poste de travail</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-none hljs">ordi1$ ll ~/.ssh
ls: impossible d'accéder à '~/.ssh': Aucun fichier ou dossier de ce nom</code></pre>
</div>
</div>
<div class="paragraph">
<p>donc pas de répertoire <code>~/.ssh</code> sur l&#8217;équipement local.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-none hljs">ordi1$ ssh-keygen
Generating public/private ed25519 key pair.
Enter passphrase for "~/.ssh/id_rsa" (empty for no passphrase):
Your identification has been saved in ~/.ssh/id_rsa
Your public key has been saved in ~/.ssh/id_rsa.pub

ordi1 $ ll ~/.ssh
total 32
-rw-------. 1 jaclin jaclin 1675 31 oct.  21:46 id_rsa
-rw-r--r--. 1 jaclin jaclin  395 31 oct.  21:46 id_rsa.pub</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_déposer_la_clé_publique_sur_un_équipement_distant"><a class="anchor" href="#_déposer_la_clé_publique_sur_un_équipement_distant"></a>3.2.2. Déposer la clé publique sur un équipement distant</h4>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-none hljs">ordi1$ ssh jc@ordi2 ls -l ~/.ssh
jc@ordi2's password:
ls: impossible d'accéder à '/home/jc/.ssh': Aucun fichier ou dossier de ce nom</code></pre>
</div>
</div>
<div class="paragraph">
<p>donc pas de répertoire <code>~/.ssh</code> sur l&#8217;équipement distant.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-none hljs">ordi1$ ssh-copy-id jc@ordi2
jc@ordi2's password:

ordi2$ ls -l .ssh
total 4
-rw-------. 1 jc jc 395 29 mai   10:55 authorized_keys</code></pre>
</div>
</div>
<div class="paragraph">
<p>Maintenant, l&#8217;utilisateur peut se connecter,
depuis son poste de travail, à la machine distante,
sans fournir de mot de passe.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight nowrap"><code class="language-bash hljs" data-lang="bash">ordi1$ ssh jc@ordi2 hostname
ordi2</code></pre>
</div>
</div>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p class="center">
  <span style="font-size: 0.9em;">
    <a href="https://jacquelincharbonnel.github.io/">Jacquelin Charbonnel</a>
    <!-- &nbsp; &mdash; &nbsp; -->
    &nbsp;
    &copy;Creative Commons BY-NC-SA 4.0
  </span>
  </p>
</footer>

<script>
var myDate = new Date(document.lastModified);
myNewDate = new Intl.DateTimeFormat(
            undefined,
            {year: "numeric", month: "long", day: "numeric", hour: "2-digit", minute: "2-digit"}
        )
        .format(myDate).replace(/\./g, '-');
document.getElementById("lastmodify").innerHTML = myNewDate ;
</script>

<script id="site-script" src="../../../_/js/site.js" data-ui-root-path="../../../_"></script>
<script async src="../../../_/js/vendor/highlight.js"></script>
  </body>
</html>
