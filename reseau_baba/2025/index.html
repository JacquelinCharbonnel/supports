<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Aper√ßu :: Supports</title>
    <link rel="canonical" href="https://jacquelincharbonnel.github.io/supports/reseau_baba/2025/index.html">
    <meta name="generator" content="Antora 3.1.14">
    <link rel="stylesheet" href="../../_/css/site.css">
<!-- reference des feuilles de styles suppl√©mentaires -->
<link rel="stylesheet" href="../../_/css/layout.css">
<link rel="stylesheet" href="../../_/css/content.css">

  </head>
  <body class="article">
<header class="header">
  <nav class="navbar">
    <div class="navbar-brand">
      <a class="navbar-item" href="https://jacquelincharbonnel.github.io/supports">Supports</a>
  <!-- suppression du burger du bandeau
      <button class="navbar-burger" data-target="topbar-nav">
        <span></span>
        <span></span>
        <span></span>
      </button>
-->      
    </div>
<!-- suppression des boutons du bandeau
    <div id="topbar-nav" class="navbar-menu">
      <div class="navbar-end">
      </div>
    </div>
-->
  </nav>
</header>
<div class="body">
<div class="nav-container" data-component="reseau_baba" data-version="2025">
  <aside class="nav">
    <div class="panels">
<div class="nav-panel-menu is-active" data-panel="menu">
  <nav class="nav-menu">
    <button class="nav-menu-toggle" aria-label="Toggle expand/collapse all" style="display: none"></button>
    <h3 class="title"><a href="index.html">R√©seau</a></h3>
<ul class="nav-list">
  <li class="nav-item" data-depth="0">
<ul class="nav-list">
  <li class="nav-item is-current-page" data-depth="1">
    <a class="nav-link" href="index.html">Aper√ßu</a>
  </li>
  <li class="nav-item" data-depth="1">
    <button class="nav-item-toggle"></button>
    <span class="nav-text">Services d&#8217;infrastructure</span>
<ul class="nav-list">
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="arp.html">ARP</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="nat.html">NAT</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dns.html">DNS</a>
  </li>
  <li class="nav-item" data-depth="2">
    <a class="nav-link" href="dhcp.html">DHCP</a>
  </li>
</ul>
  </li>
</ul>
  </li>
</ul>
  </nav>
</div>
<div class="nav-panel-explore" data-panel="explore">
  <div class="context">
    <span class="title">R√©seau</span>
    <span class="version">2025</span>
  </div>
  <ul class="components">
    <li class="component">
      <div class="title"><a href="../../C/2023/index.html">C</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../C/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../concurrence/2024/index.html">Concurrence</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../concurrence/2024/index.html">2024</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../datatext/2023/index.html">DataText</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../datatext/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../json/2023/index.html">JSON</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../json/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../linux/2025/index.html">Linux</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../linux/2025/index.html">2025</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../python_objet/2024/index.html">Python objet</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../python_objet/2024/index.html">2024</a>
        </li>
      </ul>
    </li>
    <li class="component is-current">
      <div class="title"><a href="index.html">R√©seau</a></div>
      <ul class="versions">
        <li class="version is-current is-latest">
          <a href="index.html">2025</a>
        </li>
      </ul>
    </li>
    <li class="component">
      <div class="title"><a href="../../supports/index.html">Supports</a></div>
    </li>
    <li class="component">
      <div class="title"><a href="../../xml/2023/index.html">XML</a></div>
      <ul class="versions">
        <li class="version is-latest">
          <a href="../../xml/2023/index.html">2023</a>
        </li>
      </ul>
    </li>
  </ul>
</div>
    </div>
  </aside>
</div>
<main class="article">
<div class="toolbar" role="navigation">
<button class="nav-toggle"></button>
  <a href="../../supports/index.html" class="home-link"></a>
<nav class="breadcrumbs" aria-label="breadcrumbs">
  <ul>
    <li><a href="index.html">R√©seau</a></li>
    <li><a href="index.html">Aper√ßu</a></li>
  </ul>
</nav>
<!-- supression de "edit this page"
  <div class="edit-this-page"><a href="file:///home/jaclin/antora_components/reseaubaba/./modules/ROOT/pages/index.adoc">Edit this Page</a></div>
-->
</div>
  <!-- ajout de la date de modification -->
     <div class="lastmodify"> derni√®re modification : 2025 </div>
  <!-- fin ajout -->
  <div class="content">
<aside class="toc sidebar" data-title="Plan" data-levels="2">
  <div class="toc-menu"></div>
</aside>
<article class="doc">
<h1 class="page">Aper√ßu</h1>
<div id="preamble">
<div class="sectionbody">
<div class="paragraph">
<p>Historiquement, les premiers r√©seaux (d√©but des ann√©es 80) √©taient des <em>r√©seaux locaux</em>.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_r√©seau_local"><a class="anchor" href="#_r√©seau_local"></a>1. R√©seau local</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Un <em>r√©seau local</em> (<em>LAN</em>, pour <em>Local Area Network</em>) est un r√©seau
dont l&#8217;√©tendue g√©ographique est restreinte (typiquement un b√¢timent).</p>
</div>
<div class="paragraph">
<p>Chaque √©quipement d&#8217;un LAN peut communiquer <strong>directement</strong> (sans interm√©diaire) avec les autres √©quipements connect√©s.</p>
</div>
<div class="paragraph">
<p>Chaque point d&#8217;acc√®s au r√©seau poss√®de une adresse MAC (Media Access Control) qui l&#8217;identifie.
Cette adresse est grav√©e physiquement dans l&#8217;√©quipement.
Elle est de la forme <code>c0:25:a5:71:25:6b</code> (6 nombres √† 2 chiffres hexad√©cimaux).
Par exemple, un ordinateur avec une carte Ethernet et une carte WiFi aura une adresse MAC pour chacun de ses 2 points de d&#8217;acc√®s.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Sur une machine Unix, on peut consulter l&#8217;adresse MAC des interfaces r√©seau avec la commande <code>ip address</code>
ou avec la commande historique <code>ifconfig</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Il existe plusieurs types de r√©seaux locaux :
Ethernet (Xerox), Token Ring (IBM), FDDI, Wi-Fi, etc.
Chacun d&#8217;eux poss√®de une topologie donn√©e (bus, anneau, √©toile, arborescence),
des √©quipements sp√©cifiques (carte r√©seau, hub, cable, prise) et des protocoles qui lui sont propres.
Ces r√©seaux ne sont donc pas interop√©rables entre eux.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/topo_bus.png" alt="topo bus">
</div>
<div class="title">bus</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/topo_anneau.png" alt="topo anneau">
</div>
<div class="title">anneau</div>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/topo_etoile.png" alt="topo etoile">
</div>
<div class="title">√©toile</div>
</div>
<div class="sect2">
<h3 id="_ethernet"><a class="anchor" href="#_ethernet"></a>1.1. Ethernet</h3>
<div class="paragraph">
<p>C&#8217;est le r√©seau local filaire le plus r√©pandu.
Sa topologie initiale en bus (10base-5, puis 10base-2) a √©volu√© en √©toile (10base-T).</p>
</div>
<div class="sect3">
<h4 id="_evolution_en_image"><a class="anchor" href="#_evolution_en_image"></a>1.1.1. Evolution en image</h4>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">10base-5 (Thick Ethernet, 1983)</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="_images/connectique_10base5.jpg" alt="connectique 10base5" width="200">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="_images/convertisseur_10base5.jpg" alt="convertisseur 10base5" width="200">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="_images/topo_bus.png" alt="topo bus" width="200">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">10base-2 (Thin Ethernet)</caption>
<colgroup>
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
<col style="width: 25%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="_images/10base2_cable.jpg" alt="10base2 cable" width="256">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="_images/10base2_T3.jpg" alt="10base2 T3" width="128">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="_images/bouchon_10base2.jpg" alt="bouchon 10base2" width="128">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="_images/topo_bus.png" alt="topo bus" width="200">
</div>
</div></div></td>
</tr>
</tbody>
</table>
<table class="tableblock frame-all grid-all stretch">
<caption class="title">10base-T (1990)</caption>
<colgroup>
<col style="width: 33.3333%;">
<col style="width: 33.3333%;">
<col style="width: 33.3334%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="_images/10baseT.jpg" alt="10baseT" width="128">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="_images/hub_10baseT.jpg" alt="hub 10baseT" width="128">
</div>
</div></div></td>
<td class="tableblock halign-center valign-top"><div class="content"><div class="imageblock">
<div class="content">
<img src="_images/topo_etoile.png" alt="topo etoile" width="200">
</div>
</div></div></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="_caract√©ristiques"><a class="anchor" href="#_caract√©ristiques"></a>1.1.2. Caract√©ristiques</h4>
<div class="paragraph">
<p>Toutes les stations d&#8217;un r√©seau Ethernet se voient :
physiquement, lorsqu&#8217;une station envoie un message sur le r√©seau, toutes les stations de ce r√©seau le re√ßoivent.</p>
</div>
<div class="paragraph">
<p>Le protocole d&#8217;√©mission est le suivant :
la station qui veut √©mettre un message attend que la ligne soit <em>libre</em> (que le c√¢ble soit vide de message),
puis envoie son message.
Si plusieurs stations font cela en m√™me temps, des collisions se produisent.
Dans ce cas, les √©metteurs les d√©tectent, stoppent leur diffusion, attendent un temps al√©atoire, puis diffusent √† nouveau.</p>
</div>
<div class="paragraph">
<p>L&#8217;information √©chang√©e est d√©coup√©e en tron√ßons, chacun enpaquet√© dans une trame contenant des m√©ta-donn√©es n√©cessaires √† l&#8217;acheminement :
l&#8217;adresse MAC de l&#8217;√©metteur (n√©cessaire pour r√©pondre) et du destinataire,
des codes de correction d&#8217;erreur, etc.</p>
</div>
<div class="paragraph">
<p>Toutes les stations re√ßoivent tous les messages : c&#8217;est √† chacune d&#8217;elles de savoir si le message lui est ou non destin√© (bonjour la confidentialit√© ü§´ ).
Celles qui ne sont pas destinataires de la trame sont cens√©es ne pas lire les donn√©es qu&#8217;elle v√©hicule.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Quand une interface r√©seau voit passer un paquet, elle v√©rifie si celui-ci lui est destin√©.
Si ce n&#8217;est pas le cas, elle se doit de l&#8217;ignorer.
C&#8217;est le fonctionnement pas d√©faut, mais qui peut √™tre modifi√©.
Il existe en effet un mode <em>promiscuous</em>, dans lequel l&#8217;interface r√©cup√®re toutes les trames qu&#8217;elle voit passer, qu&#8217;elle  en soit destinataire ou pas.
</td>
</tr>
</table>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># visualise l'information qui circule sur un LAN
$ sudo tcpdump</code></pre>
</div>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Pour √©couter le trafic r√©seau, <code>tcpdump</code> passe l&#8217;interface √©thernet en mode promiscuous.
Mais cela demande des privil√®ges particuliers.
D&#8217;o√π l&#8217;emploi de <code>sudo</code>.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Une adresse MAC destinataire √©gale √† <code>ff:ff:ff:ff:ff:ff</code> signifie que la trame est destin√©e √† toutes les stations : c&#8217;est un <em>broadcast</em>.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_wi_fi_ieee_802_11"><a class="anchor" href="#_wi_fi_ieee_802_11"></a>1.2. Wi-Fi (IEEE 802.11)</h3>
<div class="paragraph">
<p>Le Wi-Fi est un r√©seau local, qui apparait fin des ann√©es 90.
Sa sp√©cifit√© est d&#8217;utiliser les ondes √©lectromagn√©tiques comme support d&#8217;information.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_r√©seau_√©tendu"><a class="anchor" href="#_r√©seau_√©tendu"></a>2. R√©seau √©tendu</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Un r√©seau √©tendu (WAN) interconnecte des r√©seaux locaux, sur potentiellement de longues distances.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/wan.png" alt="wan">
</div>
<div class="title">WAN</div>
</div>
<div class="paragraph">
<p>Les stations d&#8217;un WAN qui ne sont pas situ√©es dans le m√™me LAN communiquent entre elles
via des passerelles (appel√©es aussi routeurs ou gateways),
qui jouent le r√¥le (entre autre) de relai de trame.</p>
</div>
<div class="paragraph">
<p>INTERNET (<em>INTERconnected NETworks</em>) est le WAN plan√©taire :</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/internet.png" alt="internet">
</div>
<div class="title">Internet (sch√©ma dat√©)</div>
</div>
<div class="sect2">
<h3 id="_ip_internet_protocol"><a class="anchor" href="#_ip_internet_protocol"></a>2.1. IP (<em>Internet Protocol</em>)</h3>
<div class="paragraph">
<p>L&#8217;interconnexion massive des r√©seaux locaux fait √©merger le besoin de repr√©senter de fa√ßon intelligible le fonctionnement de cette aggr√©gation,
en faisant abstraction des particularit√©s des diff√©rents LAN sous-jacents.
C&#8217;est l&#8217;objectif de la couche IP, qui donne une vision homog√®ne des √©quipements et des communications,
quelles que soient leurs sp√©cificit√©s physiques locales.</p>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="_le_mod√®le_en_couche"><a class="anchor" href="#_le_mod√®le_en_couche"></a>3. Le mod√®le en couche</h2>
<div class="sectionbody">
<div class="paragraph">
<p>Pour comprendre le fonctionnement d&#8217;un WAN, on le repr√©sente comme
un empilement de couches, dans lequel
chacune g√®re ses propres abstractions et les services qu&#8217;elle propose.</p>
</div>
<div class="paragraph">
<p><span class="image center"><img src="_images/tcpip_couches.png" alt="couche"></span></p>
</div>
<div class="paragraph">
<p>La position d&#8217;une couche traduit le niveau d&#8217;abstration des concepts quelle g√®re.
Par exemple,
la couche la plus basse correspond au mat√©riel (le c√¢ble,
les cartes √©lectroniques, la connectique, les hubs, switches, etc.),
et la couche la plus haute correspond aux applications
(web, messagerie, partage de fichiers, streaming, etc.).</p>
</div>
<div class="paragraph">
<p>Conceptuellement, une couche d&#8217;un √©quipement dialogue
avec la couche de m√™me niveau de son correspondant,
comme si les 2 couches s&#8217;√©changeaient directement de l&#8217;information.
Mais, en r√©alit√©, l&#8217;√©metteur n&#8217;envoie rien √† son correspondant √† ce niveau.
En r√©alit√©, il envoie l&#8217;information √† sa couche inf√©rieure.
Sym√©triquement, la couche n du r√©cepteur prend l&#8217;information de sa propre couche n-1.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/dataflow.png" alt="dataflow"></span></p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="paragraph">
<p>On retrouve ce fonctionnement dans la vie de tous les jours.
Soit par exemple une discussion entre 2 personnes.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">couche n</dt>
<dd>
<p>Les 2 personnes √©changent des id√©es.
Elles concentrent leur attention sur les concepts qu&#8217;elles ont en t√™te, et les √©changent.
Donc √† ce niveau, on a l&#8217;impression que les id√©es passent d&#8217;un cerveau √† l&#8217;autre.</p>
<div class="paragraph">
<p>Mais en r√©alit√©, chaque interlocuteur va, inconsciemment, verbaliser ses id√©es.
En faisant appel √† ses connaissances de la langue (vocabulaire, grammaire, etc.)
il construit une suite de mots.</p>
</div>
</dd>
<dt class="hdlist1">couche n-1</dt>
<dd>
<p>A ce niveau, les mots sont vocalis√©s, c&#8217;est-√†-dire que
chaque syllabe est convertie en phon√®me (l&#8217;unit√© √©l√©mentaire de son).</p>
</dd>
<dt class="hdlist1">couche n-2</dt>
<dd>
<p>On est ici au niveau physique.
Chaque phon√®me fait fr√©mir les cordes vocales.
Ces vibrations cr√©ent des ondes dans l&#8217;air ambiant, qui sont per√ßues par l&#8217;oreille de l&#8217;interlocuteur.
C&#8217;est donc ici qu&#8217;est r√©ellement transmise l&#8217;information.</p>
</dd>
<dt class="hdlist1">remont√©e des couches chez l&#8217;interlocuteur</dt>
<dd>
<p>L&#8217;onde sonore fait vibrer le tympan de l&#8217;interlocuteur (couche n-2), qui, inconsciemment, per√ßoit les phon√®mes,
reconstruit la suite de mots (couche n-1) pour au final appr√©hender l&#8217;id√©e √©mise (couche n).</p>
</dd>
</dl>
</div>
</td>
</tr>
</table>
</div>
<div class="sect2">
<h3 id="_la_couche_r√©seau"><a class="anchor" href="#_la_couche_r√©seau"></a>3.1. La couche r√©seau</h3>
<div class="paragraph">
<p>La couche r√©seau est le niveau physique
(c√¢ble, connectique, cartes √©lectroniques, etc.).</p>
</div>
</div>
<div class="sect2">
<h3 id="_la_couche_ip_internet_protocol"><a class="anchor" href="#_la_couche_ip_internet_protocol"></a>3.2. La couche IP (Internet Protocol)</h3>
<div class="paragraph">
<p>Pour homog√©n√©iser la vision de tous ces √©quipements disparates,
cette couche d√©finit son propre adressage, qui se superpose donc √† l&#8217;adressage physique existant :
chaque √©quipement dispose donc
d&#8217;une adresse IP (qui l&#8217;identifie sur Internet),
en plus de l&#8217;adresse MAC
(qui l&#8217;identifie sur le LAN).</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># consulte l'adresse IP (commande historique)
$ ifconfig

# consulte l'adresse IP (commande moderne)
$ ip address

# consulte l'adresse IP (commande moderne)
$ hostname -I

# teste la connectivit√© d'un √©quipement
$ ping 8.8.8.8</code></pre>
</div>
</div>
<div class="paragraph">
<p>Pour communiquer avec un appareillage situ√© sur un autre LAN,
l&#8217;√©quipement doit connaitre quel √©quipement de son LAN va pouvoir faire sortir l&#8217;information (la porte de sortie).
C&#8217;est la passerelle (gateway).</p>
</div>
<div class="paragraph">
<p>La commande <code>route</code> permet de voir la table de routage locale.
Par exemple, ex√©cut√©e √† partir d&#8217;une machine d&#8217;IP <code>192.168.59.33</code>,
on peut obtenir quelque chose comme :</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># affiche la table de routage
$ route -n
Table de routage IP du noyau
Destination     Passerelle      Genmask         Indic Metric Ref    Use Iface
0.0.0.0         192.168.50.1    0.0.0.0         UG    600    0        0 wlp0s20f3 <i class="conum" data-value="1"></i><b>(1)</b>
192.168.50.0    0.0.0.0         255.255.255.0   U     600    0        0 wlp0s20f3 <i class="conum" data-value="2"></i><b>(2)</b></code></pre>
</div>
</div>
<div class="colist arabic">
<table>
<tr>
<td><i class="conum" data-value="1"></i><b>1</b></td>
<td>cette ligne indique que pour toutes les destinations (<code>0.0.0.0</code>), sauf exceptions,
il faut passer par la passerelle <code>192.168.50.1</code>, qui est accessible via l&#8217;interface <code>wlp0s20f3</code></td>
</tr>
<tr>
<td><i class="conum" data-value="2"></i><b>2</b></td>
<td>cette ligne indique que pour toute destination situ√©e sur le LAN (<code>192.168.50.0</code>),
il n&#8217;y a pas de passerelle,
et il faut faire sortir via l&#8217;interface <code>wlp0s20f3</code></td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Ainsi, de proche en proche, les paquets passent de LAN en LAN en transitant via les passerelles successives.</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/routage.png" alt="routage"></span></p>
</div>
<div class="sect3">
<h4 id="_adresse_ip"><a class="anchor" href="#_adresse_ip"></a>3.2.1. Adresse IP</h4>
<div class="paragraph">
<p>Une adresse IP comporte en r√©alit√© 2 informations juxtapos√©es : l&#8217;adresse du r√©seau et l&#8217;adresse de l&#8217;√©quipement sur le r√©seau.
La fronti√®re entre ces 2 adresses est sp√©cifi√©e par le CIDR (<em>classless interdomain routing</em>), une information compl√©mentaire.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="_images/IPv4.png" alt="IPv4">
</div>
</div>
<div class="paragraph">
<p>Par exemple <code>172.16.254.1/16</code> signifie que l&#8217;adresse r√©seau est repr√©sent√©e par les 16 premiers bits de l&#8217;adresse IP
(soit <code>172.16.x.x</code>),
et que par cons√©quent l&#8217;adresse locale est repr√©sent√©e par les 16 derniers (soit <code>254.1</code>).</p>
</div>
<div class="paragraph">
<p>De m√™me, <code>192.168.1.1/24</code> signifie la fronti√®re se situe au 24<sup>√®me</sup> bit.
Le r√©seau est donc le <code>192.168.1</code>, et l&#8217;√©quipement <code>1</code>.</p>
</div>
</div>
<div class="sect3">
<h4 id="_passerelle"><a class="anchor" href="#_passerelle"></a>3.2.2. Passerelle</h4>
<div class="paragraph">
<p>Une passerelle (ou routeur, gateway) est un √©quipement connect√© √† plusieurs r√©seaux (au moins 2),
et qui g√®re le passage des paquets d&#8217;un r√©seau √† l&#8217;autre (√† l&#8217;aide d&#8217;une table de routage).</p>
</div>
<div class="paragraph">
<p>Une table de routage est une liste de correspondance (r√©seau &#8592;&#8594; passerelle pour l&#8217;atteindre).</p>
</div>
<div class="paragraph">
<p><span class="image"><img src="_images/troutage.jpg" alt="troutage"></span></p>
</div>
</div>
<div class="sect3">
<h4 id="_routage"><a class="anchor" href="#_routage"></a>3.2.3. Routage</h4>
<div class="dlist">
<dl>
<dt class="hdlist1">Cas d&#8217;un LAN avec 1 seule passerelle</dt>
<dd>
<p>C&#8217;est le cas le plus courant.
Si le LAN n&#8217;a qu&#8217;une interconnexion vers l&#8217;ext√©rieur, alors chaque station doit connaitre l&#8217;adresse IP de cette passerelle,
appel√©e alors <em>passerelle par d√©faut</em> (<em>default gateway</em>).</p>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
Analogie : 2 personnes situ√©es dans 2 b√¢timents diff√©rents, et souhaitant discuter de vive voix, doivent savoir o√π se trouve le t√©l√©phone.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>L&#8217;algorithme est le suivant :
pour envoyer un paquet d&#8217;information √† une machine,
si cette machine est sur le m√™me LAN, le paquet lui est directement transmis,
sinon il est envoy√© √† la passerelle par d√©faut.</p>
</div>
</dd>
<dt class="hdlist1">Cas d&#8217;un LAN avec plusieurs passerelles</dt>
<dd>
<p>Si le LAN est interconnect√© √† plusieurs r√©seaux, alors les stations doivent savoir √† quelle passerelle envoyer le paquet pour atteindre le r√©seau du destinataire.</p>
<div class="paragraph">
<p>Pour cela, chaque station poss√®de une table de routage.
Chaque √©l√©ment de cette table associe un r√©seau √† une adresse IP, celle de la passerelle par laquelle il faut passer.
L&#8217;algorithme est le suivant :
pour envoyer un paquet d&#8217;informaition √† une machine situ√©e sur un r√©seau donn√©,
ce r√©seau est recherch√© dans la table de routage.
S&#8217;il est trouv√©, alors le paquet est envoy√© √† la passerelle associ√©e.
Sinon il est envoy√© √† la passerelle par d√©faut.</p>
</div>
</dd>
</dl>
</div>
<div class="paragraph">
<p>Un √©quipement doit donc savoir d√©terminer si son destinataire est ou non sur le m√™me LAN que lui.</p>
</div>
<div class="dlist">
<dl>
<dt class="hdlist1">Lister les passerelles travers√©es</dt>
</dl>
</div>
<div class="openblock">
<div class="content">
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># passerelles travers√©es lors du cheminement des paquets
$ traceroute 8.8.8.8</code></pre>
</div>
</div>
<div class="paragraph">
<p>La commande ci-dessus montre les routeurs travers√©s par un paquet partant de l&#8217;√©quipement local
et transitant vers la destination correspondant √† l&#8217;adresse IP <code>8.8.8.8</code>.</p>
</div>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_en_r√©sum√©"><a class="anchor" href="#_en_r√©sum√©"></a>3.2.4. En r√©sum√©</h4>
<div class="paragraph">
<p>La couche IP permet l&#8217;√©change de paquets d&#8217;information entre 2 √©quipements connect√©s au m√™me r√©seau IP.
A ce niveau, on peut d√©tecter (avec la commande <code>ping</code>) si un √©quipement est ou non joignable depuis l&#8217;√©quipement local.
Rien ne permet donc de savoir si un √©quipement peut par exemple r√©pondre √† une requ√™te web,
ou bien s&#8217;il peut recevoir un mail.
Car la couche IP ne s&#8217;int√©resse pas √† la nature des √©changes.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_la_couche_transport"><a class="anchor" href="#_la_couche_transport"></a>3.3. La couche transport</h3>
<div class="paragraph">
<p>C&#8217;est ici que l&#8217;on consid√®re qu&#8217;il existe divers types de dialogues,
et que 2 √©quipements doivent pouvoir tenir en parall√®le plusieurs types de conversation
(comme par exemple √©changer des mails et en m√™me temps s&#8217;√©changer des pages web).</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Analogie</div>
L&#8217;envoi d&#8217;un SMS √† la personne avec qui on discute passe par 2 canaux multiplex√©s :
la voix et le r√©seau t√©l√©phonique.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>C&#8217;est aussi √† ce niveau qu&#8217;apparait la notion de client et de serveur.
Un serveur est un √©quipement √† l&#8217;√©coute de requ√™tes (√©mises par des clients).
Un client est un √©quipement qui √©met des requ√™tes (√† un serveur).</p>
</div>
<div class="paragraph">
<p>C&#8217;est aussi au niveau de la couche transport que se pose la question de la fiabilit√© et de la rapidit√© des √©changes.
Veut-on que l&#8217;information re√ßue soit rigoureusement l&#8217;information √©mise
(au prix d&#8217;un travail complexe et co√ªteux de v√©rification)
ou au contraire veut-on une information <em>la meilleure possible</em> (<em>best effort</em>) pour aller plus vite ?
Les 2 possibilit√©s existent, et √† chacune d&#8217;elles correspond un protocole : UDP ou TCP.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
<div class="title">Fiabilit√© ou rapidit√© : exemple de dilemne.</div>
En environnement perturb√©, pour que la musique reste agr√©able √† √©couter,
vaut-il mieux privil√©gier la bande passante (une haute d√©finition, 20-20000Hz, donc un volume de donn√©e important)
quitte √† augmenter la latence (qui provoque de la <em>gigue</em>, ou <em>jitter</em>),
ou bien vaut-il mieux privil√©gier la r√©gularit√© du tempo, quitte √† perdre en qualit√© ?
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="_udp_user_datagram_protocol"><a class="anchor" href="#_udp_user_datagram_protocol"></a>3.3.1. UDP (User Datagram Protocol)</h4>
<div class="paragraph">
<p>C&#8217;est un protocole l√©ger et rapide,
mais qui ne garantit pas une remise fiable des informations au destinataire :
l&#8217;information peut se perdre ou se m√©langer
(les paquets peuvent arriver dans le d√©sordre).
UDP est utilis√© par des applications qui √©changent des messages courts,
et pour qui la perte n&#8217;est pas grave.</p>
</div>
<div class="paragraph">
<p>Par exemple, le protocole NTP de synchronisation des horloges s&#8217;appuie sur UDP :
l&#8217;information (les tops d&#8217;horloges) est petite et diffus√©e r√©guli√®rement, un paquet perdu n&#8217;est donc pas un probl√®me.
De m√™me, certains protocoles de streaming s&#8217;appuient sur UDP,
consid√®rant qu&#8217;il n&#8217;est pas grave de perdre quelques paquets, mieux valant assurer la fluidit√©.</p>
</div>
<div class="paragraph">
<p>UDP transmet les messages sans √©tablir de connexion entre les 2 √©quipements communiquants.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># visualiser les flux UDP
$ sudo tcpdump udp</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_tcp_transmission_control_protocol"><a class="anchor" href="#_tcp_transmission_control_protocol"></a>3.3.2. TCP (Transmission Control Protocol)</h4>
<div class="paragraph">
<p>TCP est un protocole de transport garantissant la remise des donn√©es
sans alt√©ration.
Les paquets sont num√©rot√©s par l&#8217;√©metteur, et r√©assembl√©s dans l&#8217;ordre d&#8217;√©mission par le destinataire.
La r√©√©mission des paquets perdus est automatique.
Le r√©cepteur est s√ªr d&#8217;obtenir tous les paquets √©mis, et dans le bon ordre.</p>
</div>
<div class="paragraph">
<p>Les √©changes se font en mode connect√©.
Une session TCP comporte 3 √©tapes :
l&#8217;√©tablissement de la connexion, le transfert des donn√©es,
et la fermeture de la connexion.</p>
</div>
<div class="paragraph">
<p>Actuellement, 90% du trafic Internet sont des flux TCP :
le web (HTTP), la messagerie (SMTP, IMAP), le streaming de Youtube et Netflix s&#8217;appuient sur TCP.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># visualiser les flux TCP
$ sudo tcpdump tcp</code></pre>
</div>
</div>
</div>
<div class="sect3">
<h4 id="_le_port"><a class="anchor" href="#_le_port"></a>3.3.3. Le port</h4>
<div class="paragraph">
<p>Le <em>port</em> identifie la nature des communications.
C&#8217;est un entier positif.
Par exemple, on r√©cup√©re une page web en envoyant une requ√™te sur le port 80 d&#8217;un serveur.
Par cons√©quent, un serveur √† l&#8217;affut de requ√™tes sur son port 80 (<code>http</code>) est un serveur web.
De m√™me, on envoie un mail sur le port 25 (<code>smtp</code>) d&#8217;un serveur de messagerie,
et on rel√®ve une bo√Æte aux lettres en envoyant une requ√™te sur le port 443 (<code>imap</code>) du m√™me serveur de messagerie (multiplexage).</p>
</div>
<div class="paragraph">
<p>Tout comme une adresse IP identifie de fa√ßon unique un √©quipement sur Internet,
le triplet <code>(adresse_IP ; protocole_de_transport ; port)</code> identifie de mani√®re unique un service sur Internet.
Par exemple, <code>(8.8.8.8 ; UDP ; 53)</code> identifie de fa√ßon unique un serveur DNS sur Internet
(8.8.8.8 est l&#8217;un des serveurs DNS publics bien connus de Google).
Un tel triplet s&#8217;appelle un <em>socket r√©seau</em>.</p>
</div>
<div class="listingblock">
<div class="content">
<pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash"># visualiser les √©changes sur le web
$ sudo tcpdump tcp and port 80</code></pre>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
L&#8217;application EtherApe cartographie les communications des √©quipements du LAN
en temps r√©el (<code>sudo etherape</code>).
Utile pour avoir une id√©e du trafic local,
et d√©tecter des communications <em>suspectes</em>
(en fermant les yeux sur la caract√®re indiscret de la manip ü´£).
</td>
</tr>
</table>
</div>
</div>
<div class="sect3">
<h4 id="_quic"><a class="anchor" href="#_quic"></a>3.3.4. QUIC</h4>
<div class="paragraph">
<p>Contrairement aux 2 protocoles historiques UDP et TCP,
QUIC (Quick UDP Internet Connections) est un chalenger apparu en 2012.
D√©velopp√© initialement par Google, il  est aujourd‚Äôhui standardis√© par l‚ÄôIETF.
Son but est d&#8217;am√©liorer (voire remplacer) TCP pour le web moderne, en √©tant plus rapide, plus s√ªr et mieux adapt√© aux r√©seaux mobiles.</p>
</div>
<div class="paragraph">
<p>Quic s&#8217;appuie sur UDP, mais offre une fiabilit√© digne de TCP, ainsi qu&#8217;un chiffrement int√©gr√©.
Facebook, Netflix, YouTube l&#8217;utilisent aujourd&#8217;hui.
HTTP/3 s&#8217;appuie sur Quick.</p>
</div>
</div>
</div>
<div class="sect2">
<h3 id="_la_couche_application"><a class="anchor" href="#_la_couche_application"></a>3.4. La couche application</h3>
<div class="paragraph">
<p>Cette couche d√©finit les services Internet :
le web, la messagerie, le shell (SSH), les partages r√©seau (NFS, CIFS), la synchronisation des horloges (NTP), le streaming, etc.
C&#8217;est √† ce niveau que sont d√©finis les protocoles de ces services, qui s&#8217;appuient soit sur TCP, soit sur UDP (ou QUIC):</p>
</div>
<table class="tableblock frame-all grid-all stretch">
<colgroup>
<col style="width: 18.1818%;">
<col style="width: 27.2727%;">
<col style="width: 9.0909%;">
<col style="width: 45.4546%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">protocole</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">protocole sode transport</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">port</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">usage</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">http</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">tcp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">80</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">transfert de donn√©es sur le web</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">https</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">tcp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">443</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">transfert securis√© de donn√©es sur le web</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">ftp</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">tcp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">20 &amp; 21</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">transfert de fichiers</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">smtp</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">tcp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">25</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">envoi de mails</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">pop3</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">tcp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">110</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rel√®ve de bo√Ætes aux lettres</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">imap</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">tcp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">143</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rel√®ve de bo√Ætes aux lettres</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">imaps</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">tcp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">993</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">rel√®ve s√©curis√© de bo√Ætes aux lettres</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">ssh</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">tcp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">22</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">session shell</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">ntp</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">udp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">123</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">synchronisation d&#8217;horloges</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">domain (dns)</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">udp ou tcp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">53</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">correspondance adresse IP &#8592;&#8594; nom d&#8217;√©quipement</p></td>
</tr>
<tr>
<td class="tableblock halign-center valign-top"><p class="tableblock">ipp</p></td>
<td class="tableblock halign-center valign-top"><p class="tableblock">udp ou tcp</p></td>
<td class="tableblock halign-right valign-top"><p class="tableblock">631</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">impression r√©seau</p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>Sous Unix, les services sont d√©finis dans le fichier <code>/etc/services</code>.</p>
</div>
</div>
</div>
</div>
</article>
  </div>
</main>
</div>
<footer class="footer">
  <p class="center">
  <span style="font-size: 0.9em;">
    <a href="https://jacquelincharbonnel.github.io/">Jacquelin Charbonnel</a>
    <!-- &nbsp; &mdash; &nbsp; -->
    &nbsp;
    &copy;Creative Commons BY-NC-SA 4.0
  </span>
  </p>
</footer>

<script>
var myDate = new Date(document.lastModified);
myNewDate = new Intl.DateTimeFormat(
            undefined,
            {year: "numeric", month: "long", day: "numeric", hour: "2-digit", minute: "2-digit"}
        )
        .format(myDate).replace(/\./g, '-');
document.getElementById("lastmodify").innerHTML = myNewDate ;
</script>

<script id="site-script" src="../../_/js/site.js" data-ui-root-path="../../_"></script>
<script async src="../../_/js/vendor/highlight.js"></script>
  </body>
</html>
